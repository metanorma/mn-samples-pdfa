== Background

This section provides a brief discussion on the background and context of the
EA-PDF v1.0 file format as solicited via the EA-PDF Liaison Working Group (LWG).
It does not contain the formal PDF technical requirements; however it needs to
be read by all users of this document as it explains how EA-PDF achieves its
goals and the agreed decisions made by the LWG.

NOTE: this section is descriptive in nature and there are no "SHALL" or "SHOULD"
statements. Use of the words "must" or "will" in this section implies something
that is mandated without prescribing exactly how the mandate is technically
achieved.

The foremost goal of EA-PDF is as a faithful and verifiable long-term
preservation format for email assets, including a reliable static appearance of
a static rendition of the email that is technically achieved by utilizing
PDF/A-3 or PDF/A-4. This requires a reliable and verifiable link between the
original raw source email asset(s) and the PDF representation of those emails.
EA-PDF also supports "isolated" use-cases where this linkage between original
raw source email asset(s) and the PDF content is weakened or broken – for
example due to the use of non-EA-PDF aware software or because of workflow
requirements (such as FOIA).

Because EA-PDF is a flexible format, it is fully expected that the application
of EA-PDF in each organization is supported in context by archival policies and
procedures and will evolve as EA-PDF aware software becomes available.

[[figure-01]]
.Context of EA-PDF
image::figure-01.png[]

The EA-PDF v1.0 file format has been defined such that it supports two main
usage contexts, as shown in <<figure-01>>: Context of EA-PDF above:

. An *Optimal experience* when using EA-PDF aware software, regardless of whether
this software is interactive (e.g., viewer GUI) or non-interactive (e.g., batch
processing, web server);

. A *Functional Experience* with the potential for a limited or less-than-optimal
experience when using non-EA-PDF aware legacy software. Software not written to
support EA-PDF or PDF/A will work but may result in restrictions on viewing,
search, semantics, and/or navigation due to lack of specific EA-PDF knowledge.
Although this experience will vary across implementations, various EA-PDF v1.0
file format design choices have been made by the LWG to try and ensure the
widest possible support with current non-EA-PDF aware legacy software (such as
non-PDF/A conformant software).

NOTE: Reason: at the time of writing a lot of current generation PDF software only
provides limited support for many PDF 2.0 features and for compliant PDF/A
rendering. This is a major consideration in the technical design of EA-PDF v1.0.

The term "EA-PDF" is used as an all-encompassing term and includes the file
format, software, use-cases/scenarios, etc. The moniker "`PDF/mail`" represents
just the file format defined by this industry specification and any later
editions. The term "`PDF/mail-1`" refers to this first edition of `PDF/mail` -
future versions may use other versions (such as `PDF/mail-2`, `PDF/mail-3`,
etc.) in a similar manner to the way that ISO subsets are versioned. If this
industry specification is ever standardized by ISO, "`PDF/M`" would be the most
likely equivalent ISO moniker following the current principles of PDF naming
conventions (cf. "`PDF/raster`" and "`PDF/R`").

NOTE: Reason: "`PDF/E`" cannot be used as the abbreviation for email, as this is
already used by an existing ISO standard for engineering: "ISO 24517-1:2008
Document management — Engineering document format using PDF — Part 1: Use of PDF
1.6 (PDF/E-1)".

Creation of EA-PDF files from email-specific formats such as EML, MSG, MBOX,
Lotus Notes (`.nsf`), or Microsoft OST/PST requires specialized _EA-PDF Creation
Software_, as shown above – current PDF/A creation software is insufficient.
Many design and implementation choices of EA-PDF software are intentionally
[underline]#_not_# explicitly defined by this document to allow flexibility and
innovation from implementers (e.g., how to convert email bodies to PDF content
streams is not explicitly defined; how to cope with errors in emails; additional
content sets; etc.).

NOTE: requirements on specific (visual) appearance of EA-PDF files are avoided
and only restricted via PDF/A (and the assumption that PDF/A conforming software
will be used).

NOTE: this document does try to provide some informative high-level guidance and
background explanation for software developers for certain features, even if
these features are not formally required ("SHALL") or recommended ("SHOULD").
These are merely guidance, but their use can provide better context and a better
user experience for users of EA-PDF files.

Additional user interface requirements for EA-PDF aware software (beyond those
already required by PDF/A) are also not explicitly prescribed but stated only in
terms of high-level functional requirements (for example, providing access to
all the embedded files in `PDF/mail` files). This is identical to the way ISO
19005 PDF/A conforming processor requirements are defined. EA-PDF does not have
any [underline]#_interactive_# processor specific requirements as it is assumed
that headless server-based ingestion systems have similar needs to individual
users.

`PDF/mail` files are [underline]#always# conforming PDF/A files and will
therefore [underline]#always# pass PDF/A validation. The additional requirements
defined in EA-PDF enable both humans and automated systems (i.e., EA-PDF aware
software) to share a common understanding of the significant properties of
faithfully preserved email and their static renderings – and to perform
additional validation but without requiring reprocessing of original source
email assets for that validation. Note that non-EA-PDF aware legacy software
(including PDF/A conforming software) may not achieve some levels of support due
to the lack of specific EA-PDF feature awareness.

This document uses notes in addition to requirements or recommendations for EA-PDF developers to guide them on practices that may assist with improved user experience with non-EA-PDF aware legacy software.

EA-PDF is designed to support many differing preservation-oriented workflows.
EA-PDF files created to support Freedom of Information (FOIA) and similar access
requests may not be suitable for long-term preservation due to either the
absence of the source email asset(s), redaction of original text, or metadata
scrubbing conducted to support dissemination footnote:[A modification use-case
discussed in the EA-PDF LWG is the extraction of selected pages from an EA-PDF
file while retaining some limited (possibly semi-redacted) context (e.g. the
username portion of an email address is redacted, but not the email provider:
`fred@email.com` becomes `xxxx@email.com`). The resultant PDF/A file is no
longer a full and faithful preservation of the original raw source email and
thus must be identified differently.].
As described later in this document (see section 7.2 Preserving source email
assets), EA-PDF compliant files can include the original raw source email
assets, along with extensive metadata, and other necessary information which
would need to be redacted resulting in a PDF that is no longer a verifiable
preservation asset and a reliable rendition of email [underline]#and# free of
PII. These PDFs will still contain many EA-PDF features (such as email-specific
semantic tagging or rich email metadata) but because they are modified, they are
no longer a full and faithful preservation of the original raw source email
assets and must be specifically indicated as an "isolated" EA-PDF file.

The provenance metadata information in PDF/A can be used to indicate the
conversion from one EA-PDF profile to another, or back to PDF/A.  This is an
intentional design decision to ensure that EA-PDF files that are a faithful and
verifiable preservation of the original raw source email assets are cleared
distinguishable and identifiable as such.

Although the PDF and PDF/A specifications, this document, and related examples
all use English content, EA-PDF fully supports non-English and multi-lingual
emails, without resorting to rendering emails to bitmaps.

=== EA-PDF Profile identifiers

This document describes multiple EA-PDF profiles footnote:[The term "_profile_" is
specifically chosen to avoid confusion or overlap with the existing "conformance
levels" used by PDF/A and other PDF ISO subset standards.] to meet the various
requirements discussed in the LWG that reflected specific email archival
scenarios and use-cases. All profiles are compliant with PDF/A and use one or
more lowercase letters to indicate conformance:

.EA-PDF profile indicators
[cols="a,2a"]
|===
|EA-PDF Profile identifier (lowercase letter)	|Meaning

|`c`
|A structured container that can include hierarchical folders of emails.

|`i`
|Isolated – this means that the faithful original raw source email assets are
missing, and the EA-PDF file is not a verifiable preservation asset.

|`m`
|Multiple emails without folders

|`s`
|Single email message (without a folder)

|===

EA-PDF profiles [underline]#without# the "isolated" profile identifier `i` are
suitable as verifiable preservation assets as these files contain the original
raw source email assets as well as PDF/A compliant renderings of the emails and
related context.

EA-PDF profiles [underline]#with# the "isolated" profile identifier `i` may be
unsuitable as preservation assets as these files do [underline]#not# contain all
the original raw source email assets, or possibly contain modified or redacted
versions of those original raw source email assets. However, "isolated" EA-PDF
profiles may be smaller files as a result. Thus, the suitability of "isolated"
EA-PDF profiles for preservation will depend on the precise archival and
preservation strategies and policies that provide the context for the
application of EA-PDF as shown in <<figure-01>>.

